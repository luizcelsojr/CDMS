R := SCAN(V,{(id=3) OR (id=4)})
CON := SCAN(E,{(label='connects') OR (label='likes')})
ROADREST := SCAN(V,{(type='road') OR (type='rest')})
DIST := BETA(R, CON, ROADREST, 4, BOTH, [likes, connects],
         {minDist := FLOAT(0)}, 
         {minDist := minDist + FLOAT(E.Weight)},
         {minDist := MIN(minDist) BY [id, id_n]}, 
         {current.minDist := MIN([newV.minDist, current.minDist])})
DIST := SELECT(DIST, {V.type='rest'})
DIST := PROJECT(DIST, [id, id_n, minDist])
RETURN DIST